<!-- <!DOCTYPE html>
<html lang="ZH-cn">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>R</title>
    <script src="../node_modules/jquery/dist/jquery.js"></script>
    <script src="../node_modules/underscore/underscore.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <canvas> </canvas>
    <script>
      let canvas = $("canvas")[0];
      let c = canvas.getContext("2d");
      $(canvas).css({
        display: "block",
        margin: "0 auto",
        backgroundColor: "#1a2a3a"
      });
      class R {
        constructor(opt) {
          this.imgsrc = opt.imgsrc || "";
          this.x = opt.x || _.random(0, canvas.width);
          this.y = opt.y || _.random(0,  -(canvas.height));
          this.w = opt.w || _.random(5, 20);
          this.h = opt.h || _.random(5, 20);
          this.speed = opt.speed||4;
          this._init();
        }
        _init() {
          canvas.height = document.documentElement.clientHeight;
          canvas.width = document.documentElement.clientWidth;
          window.addEventListener("resize", () => {
            this._init();
          });
        }
        updata() {
          this.y += this.speed;
          if (this.y > canvas.height) {
            this.y = _.random(0, -canvas.height);
          }
        }
        draw(c) {
          let img = new Image();
          img.src = this.imgsrc;
          img.onload = () => {
            let ritio = img.width / img.height;
            c.beginPath()
            c.drawImage(img, this.x, this.y, this.w, this.w / ritio);
          };
        }
      }
      let rarr=[]
      for(let i=0;i<100;i++){
        rarr.push(new R({ imgsrc: "./r.png" }))
      }
      setInterval(() => {
        // c.clearRect(0, 0, canvas.width, canvas.height);
        c.fillStyle = "rgba(0,0,0,.5)";
        c.fillRect(0, 0, canvas.width, canvas.height);
        for(let i=0;i<rarr.length;i++){
          rarr[i].updata()
          rarr[i].draw(c);
        }
      }, 1000/60);
    </script>
  </body>
</html> -->
